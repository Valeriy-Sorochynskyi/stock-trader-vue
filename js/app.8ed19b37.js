(function(t){function e(e){for(var n,a,s=e[0],u=e[1],c=e[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,a=1;a<o.length;a++){var s=o[a];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=u(u.s=o[0]))}return t}var n={},a={app:0},r={app:0},i=[];function s(t){return u.p+"js/"+({Login:"Login",NotFound:"NotFound",Portfolio:"Portfolio",SignUp:"SignUp",Stocks:"Stocks"}[t]||t)+"."+{Login:"5fff8db3",NotFound:"6e645bba",Portfolio:"3a4fab35",SignUp:"0ddc3c11",Stocks:"62b829ab"}[t]+".js"}function u(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(t){var e=[],o={Login:1,Portfolio:1,SignUp:1,Stocks:1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise((function(e,o){for(var n="css/"+({Login:"Login",NotFound:"NotFound",Portfolio:"Portfolio",SignUp:"SignUp",Stocks:"Stocks"}[t]||t)+"."+{Login:"04cfe53b",NotFound:"31d6cfe0",Portfolio:"5a4285a4",SignUp:"4acb8325",Stocks:"4ade67f3"}[t]+".css",r=u.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],l=c.getAttribute("data-href");if(l===n||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],f.parentNode.removeChild(f),o(i)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(t);var d=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(f);var o=r[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,o[1](d)}r[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=n,u.d=function(t,e,o){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(o,n,function(e){return t[e]}.bind(null,n));return o},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="stock-trader-vue/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var f=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"366e":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var n={};o.r(n),o.d(n,"loadData",(function(){return w}));o("4de4"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("el-container",[o("el-header",[o("el-menu",{staticClass:"menu",attrs:{mode:"horizontal","background-color":"#67C23A","text-color":"#fff","default-active":this.$route.path,"active-text-color":"#ffd04b"}},[o("el-menu-item",{attrs:{index:"/"}},[o("router-link",{staticClass:"menu__link",attrs:{to:"/"}},[o("i",{staticClass:"el-icon-s-home menu__icon"})])],1),t.isAuthenticated?o("el-menu-item",{attrs:{index:"/stocks"}},[o("router-link",{staticClass:"menu__link",attrs:{to:"/stocks"}},[t._v("Stocks")])],1):t._e(),t.isAuthenticated?o("el-menu-item",{attrs:{index:"/portfolio"}},[o("router-link",{staticClass:"menu__link",attrs:{to:"/portfolio"}},[t._v("Portfolio")])],1):t._e(),t.isAuthenticated?o("el-menu-item",{staticClass:"float-right"},[t._v(" Funds: "+t._s(t._f("currency")(t.funds))+" ")]):t._e(),t.isAuthenticated?o("el-menu-item",{staticClass:"float-right",on:{click:t.onLogout}},[t._v(" Log Out ")]):t._e(),t.isAuthenticated?o("el-submenu",{staticClass:"float-right",attrs:{index:"2"}},[o("template",{slot:"title"},[t._v("Save & Load")]),o("el-menu-item",{on:{click:t.onSave}},[t._v("Save")]),o("el-menu-item",{on:{click:t.onLoad}},[t._v("Load")])],2):t._e(),t.isAuthenticated?o("el-menu-item",{staticClass:"float-right",on:{click:t.endDay}},[t._v(" End Day ")]):t._e(),t.isAuthenticated?t._e():o("el-menu-item",{staticClass:"float-right",attrs:{index:"/login"}},[o("router-link",{staticClass:"menu__link",attrs:{to:"/login"}},[t._v("Login")])],1),t.isAuthenticated?t._e():o("el-menu-item",{staticClass:"float-right",attrs:{index:"/signup"}},[o("router-link",{staticClass:"menu__link",attrs:{to:"/signup"}},[t._v(" Sign Up ")])],1)],1)],1),o("el-main",[o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("router-view")],1)],1)],1)],1)},i=[],s=o("5530"),u=o("2f62"),c=o("bc3a"),l=o.n(c),d={methods:Object(s["a"])({},Object(u["b"])(["getStocks","randomStocks","logout","tryAutoLogin"]),{onSave:function(){if(this.$store.state.auth.idToken){var t={funds:this.$store.getters.funds,portfolioStocks:this.$store.getters.portfolioStocks,stocks:this.$store.getters.stocks};l.a.put("/data.json?auth="+this.$store.state.auth.idToken,t)}},onLoad:function(){this.$store.dispatch("loadData")},endDay:function(){this.randomStocks()},onLogout:function(){this.logout()}}),computed:Object(s["a"])({},Object(u["c"])(["isAuthenticated"]),{funds:function(){return this.$store.getters.funds}}),created:function(){this.getStocks(),this.tryAutoLogin()}},f=d,m=(o("5c0b"),o("2877")),p=Object(m["a"])(f,r,i,!1,null,null,null),h=p.exports,g=(o("d3b7"),o("8c4f")),k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("h1",{staticClass:"home__heading"},[t._v("Trade or View your Portfolio")]),o("h4",{staticClass:"home__sub-heading"},[t._v("You should sign up to save or load your Data")]),o("h4",{staticClass:"home__sub-heading"},[t._v("Click on 'New Day' to begin a New Day")]),o("hr"),t.isAuthenticated?o("p",{staticClass:"home__info"},[t._v("Your Funds: "+t._s(t._f("currency")(t.funds)))]):t._e()])},S=[],v={name:"Home",computed:Object(s["a"])({},Object(u["c"])(["funds","isAuthenticated"]))},_=v,b=(o("8822"),Object(m["a"])(_,k,S,!1,null,"31910c4a",null)),T=b.exports,y=(o("4160"),o("159b"),[{id:1,name:"BMW",price:100},{id:2,name:"Apple",price:150},{id:3,name:"Google",price:180},{id:4,name:"Twitter",price:50}]),L={state:{stocks:[]},actions:{getStocks:function(t){var e=t.commit;e("SET_STOCKS",y)},buyStock:function(t,e){var o=t.commit;o("BUY_STOCK",e)},randomStocks:function(t){var e=t.commit;e("RND_STOCKS")}},mutations:{SET_STOCKS:function(t,e){t.stocks=e},RND_STOCKS:function(t){t.stocks.forEach((function(t){t.price=Math.round(t.price*(1+Math.random()-.5))}))}},getters:{stocks:function(t){return t.stocks}}},O=(o("7db0"),o("c975"),o("d81d"),o("a434"),o("b0c0"),{state:{funds:1e4,stocks:[]},mutations:{BUY_STOCK:function(t,e){var o=t.stocks.find((function(t){return t.id===e.id}));o?o.amount+=e.amount:t.stocks.push({id:e.id,amount:e.amount}),t.funds-=e.price*e.amount},SELL_STOCK:function(t,e){var o=t.stocks.find((function(t){return t.id===e.id}));o.amount>e.amount?o.amount-=e.amount:t.stocks.splice(t.stocks.indexOf(o,1)),t.funds+=e.price*e.amount},SET_PORTFOLIO:function(t,e){t.funds=e.funds,t.stocks=e.portfolioStocks?e.portfolioStocks:[]}},actions:{sellStock:function(t,e){var o=t.commit;o("SELL_STOCK",e)}},getters:{portfolioStocks:function(t,e){return t.stocks.map((function(t){var o=e.stocks.find((function(e){return e.id===t.id}));return{id:t.id,amount:t.amount,price:o.price,name:o.name}}))},funds:function(t){return t.funds}}}),I=(o("ac1f"),o("5319"),l.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"})),C={state:{idToken:null,userId:null},mutations:{authUser:function(t,e){t.idToken=e.token,t.userId=e.userId},unAuth:function(t){t.idToken=null,t.userId=null}},actions:{signup:function(t,e){var o=t.commit,n=t.dispatch;I.post("/accounts:signUp?key=AIzaSyDLzMdBM3yeRBVTM3z6fbSh3p8TYOq-0jQ",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){console.log(t),o("authUser",{token:t.data.idToken,userId:t.data.localId});var e=new Date,a=new Date(e.getTime()+1e3*t.data.expiresIn);n("setLogoutTimer",t.data.expiresIn),localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expirationDate",a)})).catch((function(t){return console.log(t)}))},login:function(t,e){var o=t.commit,n=t.dispatch;I.post("/accounts:signInWithPassword?key=AIzaSyDLzMdBM3yeRBVTM3z6fbSh3p8TYOq-0jQ",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){console.log(t),o("authUser",{token:t.data.idToken,userId:t.data.localId});var e=new Date,a=new Date(e.getTime()+1e3*t.data.expiresIn);n("setLogoutTimer",t.data.expiresIn),localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expirationDate",a),j.push("/")})).catch((function(t){return console.log(t)}))},tryAutoLogin:function(t){var e=t.commit,o=localStorage.getItem("token"),n=localStorage.getItem("userId"),a=localStorage.getItem("expirationDate"),r=new Date;o&&(r>=a||e("authUser",{token:o,userId:n}))},logout:function(t){var e=t.commit;e("unAuth"),localStorage.removeItem("expirationDate"),localStorage.removeItem("token"),localStorage.removeItem("userId"),j.replace("/")},setLogoutTimer:function(t,e){var o=t.commit;setTimeout((function(){o("unAuth")}),1e3*e)}},getters:{isAuthenticated:function(t){return null!==t.idToken}}},w=function(t){var e=t.commit,o=t.state;o.auth.idToken&&l.a.get("/data.json?auth="+o.auth.idToken).then((function(t){return t.data})).then((function(t){if(t){var o=t.stocks,n=t.funds,a=t.portfolioStocks,r={portfolioStocks:a,funds:n};e("SET_STOCKS",o),e("SET_PORTFOLIO",r)}}))};a["default"].use(u["a"]);var A=new u["a"].Store({actions:n,modules:{auth:C,stocks:L,portfolio:O}});a["default"].use(g["a"]);var x=[{path:"/",name:"Home",component:T},{path:"*",redirect:"/404"},{path:"/404",name:"notFound",component:function(){return o.e("NotFound").then(o.bind(null,"9703"))}},{path:"/portfolio",name:"Portfolio",component:function(){return o.e("Portfolio").then(o.bind(null,"c9e5"))}},{path:"/stocks",name:"Stocks",component:function(){return o.e("Stocks").then(o.bind(null,"5b05"))},beforeEnter:function(t,e,o){A.state.auth.idToken?o():o("/signup")}},{path:"/login",name:"Login",component:function(){return o.e("Login").then(o.bind(null,"5326"))}},{path:"/signup",name:"SignUp",component:function(){return o.e("SignUp").then(o.bind(null,"4b77"))}}],P=new g["a"]({mode:"history",base:"stock-trader-vue/",routes:x}),j=P,D=o("5c96"),E=o.n(D);o("0fae");a["default"].config.productionTip=!1,l.a.defaults.baseURL="https://stock-trader-4d2c6.firebaseio.com",a["default"].use(E.a),a["default"].filter("currency",(function(t){return"$"+t.toLocaleString()})),new a["default"]({router:j,store:A,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var n=o("9c0c"),a=o.n(n);a.a},8822:function(t,e,o){"use strict";var n=o("366e"),a=o.n(n);a.a},"9c0c":function(t,e,o){}});
//# sourceMappingURL=app.8ed19b37.js.map